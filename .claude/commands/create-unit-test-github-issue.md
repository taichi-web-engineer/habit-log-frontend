# Unit Test GitHub Issue作成

指定されたファイルを解析してUnit Testのテストパターンを考え、GitHub Issueを作成するカスタムコマンドです。

## 使用方法

```
/create-unit-test-github-issue <ファイルパス>
```

## 引数

- `<ファイルパス>`: テスト対象のファイルパス（相対パスまたは絶対パス）

## 例

```
/create-unit-test-github-issue src/i18n/request.ts
/create-unit-test-github-issue src/components/ui/Button.tsx
/create-unit-test-github-issue src/lib/utils.ts
```

## 機能

1. **ファイル解析**: 指定されたファイルの内容を解析
2. **テストパターン生成**: ファイルの種類と内容に基づいてテストパターンを自動生成
3. **GitHub Issue作成**: 生成されたテストパターンを含む詳細なIssueを作成

## 対応ファイル形式

### TypeScript/JavaScript (.ts, .tsx, .js, .jsx)
- 関数の抽出と個別テストパターン生成
- クラスの抽出とメソッドテストパターン生成
- API通信コード検出と専用テストパターン
- React コンポーネント検出と UI テストパターン
- 非同期処理の検出と Promise テストパターン

### その他のファイル
- 基本的なテストパターンを生成

## 生成されるテストパターン

### 関数のテストパターン
```markdown
### `functionName()` 関数
- [ ] 正常系: 有効な引数での動作確認
- [ ] 異常系: 無効な引数でのエラーハンドリング
- [ ] エッジケース: 境界値での動作確認
- [ ] 非同期処理: Promise の解決・拒否の処理 (該当する場合)
```

### API通信のテストパターン
```markdown
### API 通信
- [ ] 成功レスポンス: 正常なデータ取得
- [ ] エラーレスポンス: HTTP エラーステータスの処理
- [ ] ネットワークエラー: 接続失敗時の処理
- [ ] タイムアウト: リクエスト時間制限の処理
```

### React コンポーネントのテストパターン
```markdown
### React コンポーネント
- [ ] レンダリング: 正常な UI 表示
- [ ] Props: プロパティの正確な受け渡し
- [ ] State: 状態変更の動作確認
- [ ] イベント: ユーザーインタラクションの処理
```

## Issue テンプレート

作成されるIssueには以下の情報が含まれます：

- **概要**: テスト対象ファイルの説明
- **テストパターン**: 自動生成された詳細なテストケース
- **実装詳細**: テストファイル作成場所、モック戦略、ファイル構造
- **受け入れ条件**: テストカバレッジやエラーハンドリングの要件
- **技術要件**: Jest、TypeScript使用などの技術的制約

## 前提条件

- GitHub CLI (`gh`) がインストールされ、認証済みであること
- 現在のディレクトリがGitリポジトリであること
- GitHub リポジトリがセットアップされていること

## 注意事項

- GitHub CLI でのIssue作成に失敗した場合、コンソールにIssue内容を出力します
- ファイルが存在しない場合はエラーメッセージを表示します
- 大きなファイルの解析には時間がかかる場合があります